<UserControl
    x:Class="FinanceTracker.Views.BankView"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:b="http://schemas.microsoft.com/xaml/behaviors"
    xmlns:controls="clr-namespace:Win10Themables.Controls;assembly=Win10Themables"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:local="clr-namespace:FinanceTracker.Views"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d">
    <Grid>
        <Grid>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto" />
                <ColumnDefinition Width="Auto" />
                <ColumnDefinition Width="Auto" />
            </Grid.ColumnDefinitions>
            <Label
                x:Name="NameLabel"
                Grid.Column="1"
                Margin="10,5"
                HorizontalAlignment="Left"
                VerticalAlignment="Top"
                Content="{Binding Name}"
                FontSize="20"
                FontWeight="Bold"
                Foreground="{DynamicResource TextBrush}" />
            <TextBox
                x:Name="NameTextbox"
                Grid.Column="1"
                Width="{Binding ElementName=NameLabel, Path=ActualWidth}"
                Margin="13,10"
                HorizontalAlignment="Left"
                VerticalAlignment="Top"
                Background="{DynamicResource MainBackgroundBrush}"
                BorderBrush="{DynamicResource TextBrush}"
                BorderThickness="0,0,0,1"
                FontSize="20"
                FontWeight="Bold"
                Foreground="{DynamicResource TextBrush}"
                Text="{Binding TemporaryName, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                Visibility="{Binding IsEditingName, Converter={StaticResource VisibleIfTrueConverter}}">
                <b:Interaction.Triggers>
                    <b:EventTrigger EventName="PreviewKeyDown">
                        <b:InvokeCommandAction Command="{Binding NameEditorKeyDownCommand}" PassEventArgsToCommand="True" />
                    </b:EventTrigger>
                </b:Interaction.Triggers>
            </TextBox>
            <controls:ExtendedButton
                Grid.Column="2"
                VerticalAlignment="Top"
                Command="{Binding EditNameCommand}"
                Height="{Binding ElementName=NameLabel, Path=ActualHeight, Converter={StaticResource ValueAdderConverter},ConverterParameter=-5}"
                Margin="0,5"
                Background="Transparent"
                BorderThickness="0"
                Content="Edit"
                Foreground="{DynamicResource TextBrush}" />
        </Grid>
        <Border
            Height="1"
            Margin="10,40,10,0"
            HorizontalAlignment="Stretch"
            VerticalAlignment="Top"
            Background="{DynamicResource StatusTextBrush}" />
    </Grid>
</UserControl>
